/*!
 * Theia Sticky Sidebar v1.7.0
 * https://github.com/WeCodePixels/theia-sticky-sidebar
 *
 * Glues your website's sidebars, making them permanently visible while scrolling.
 *
 * Copyright 2013-2016 WeCodePixels and other contributors
 * Released under the MIT license
 */(function(a){a.fn.theiaStickySidebar=function(b){var e={containerSelector:'',additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:'modern',defaultPosition:'relative',namespace:'TSS'};b=a.extend(e,b),b.additionalMarginTop=parseInt(b.additionalMarginTop)||0,b.additionalMarginBottom=parseInt(b.additionalMarginBottom)||0,f(b,this);function f(b,d){var e=c(b,d);e||(console.log('TSS: Body width smaller than options.minWidth. Init is delayed.'),a(document).on('scroll.'+b.namespace,function(b,d){return function(e){var f=c(b,d);f&&a(this).unbind(e)}}(b,d)),a(window).on('resize.'+b.namespace,function(b,d){return function(e){var f=c(b,d);f&&a(this).unbind(e)}}(b,d)))}function c(b,c){return b.initialized===!0||(!(a('body').width()<b.minWidth)&&(g(b,c),!0))}function g(b,c){b.initialized=!0;var e=a('#theia-sticky-sidebar-stylesheet-'+b.namespace);e.length===0&&a('head').append(a('<style id="theia-sticky-sidebar-stylesheet-'+b.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),c.each(function(){var c={},h,f,g;c.sidebar=a(this),c.options=b||{},c.container=a(c.options.containerSelector),c.container.length==0&&(c.container=c.sidebar.parent()),c.sidebar.parents().css('-webkit-transform','none'),c.sidebar.css({position:c.options.defaultPosition,overflow:'visible','-webkit-box-sizing':'border-box','-moz-box-sizing':'border-box','box-sizing':'border-box'}),c.stickySidebar=c.sidebar.find('.theiaStickySidebar'),c.stickySidebar.length==0&&(h=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i,c.sidebar.find('script').filter(function(b,a){return a.type.length===0||a.type.match(h)}).remove(),c.stickySidebar=a('<div>').addClass('theiaStickySidebar').append(c.sidebar.children()),c.sidebar.append(c.stickySidebar)),c.marginBottom=parseInt(c.sidebar.css('margin-bottom')),c.paddingTop=parseInt(c.sidebar.css('padding-top')),c.paddingBottom=parseInt(c.sidebar.css('padding-bottom')),f=c.stickySidebar.offset().top,g=c.stickySidebar.outerHeight(),c.stickySidebar.css('padding-top',1),c.stickySidebar.css('padding-bottom',1),f-=c.stickySidebar.offset().top,g=c.stickySidebar.outerHeight()-g-f,f==0?(c.stickySidebar.css('padding-top',0),c.stickySidebarPaddingTop=0):c.stickySidebarPaddingTop=1,g==0?(c.stickySidebar.css('padding-bottom',0),c.stickySidebarPaddingBottom=0):c.stickySidebarPaddingBottom=1,c.previousScrollTop=null,c.fixedScrollTop=0,e(),c.onScroll=function(c){var s,g,h,q,w,u,t,l,k,p,o,r,f,n,m,v,j;if(!c.stickySidebar.is(":visible"))return;if(a('body').width()<c.options.minWidth){e();return}if(c.options.disableOnResponsiveLayouts)if(s=c.sidebar.outerWidth(c.sidebar.css('float')=='none'),s+50>c.container.width()){e();return}g=a(document).scrollTop(),h='static',g>=c.sidebar.offset().top+(c.paddingTop-c.options.additionalMarginTop)&&(q=c.paddingTop+b.additionalMarginTop,w=c.paddingBottom+c.marginBottom+b.additionalMarginBottom,u=c.sidebar.offset().top,t=c.sidebar.offset().top+i(c.container),l=0+b.additionalMarginTop,p=c.stickySidebar.outerHeight()+q+w<a(window).height(),p?k=l+c.stickySidebar.outerHeight():k=a(window).height()-c.marginBottom-c.paddingBottom-b.additionalMarginBottom,o=u-g+c.paddingTop,r=t-g-c.paddingBottom-c.marginBottom,f=c.stickySidebar.offset().top-g,n=c.previousScrollTop-g,c.stickySidebar.css('position')=='fixed'&&c.options.sidebarBehavior=='modern'&&(f+=n),c.options.sidebarBehavior=='stick-to-top'&&(f=b.additionalMarginTop),c.options.sidebarBehavior=='stick-to-bottom'&&(f=k-c.stickySidebar.outerHeight()),n>0?f=Math.min(f,l):f=Math.max(f,k-c.stickySidebar.outerHeight()),f=Math.max(f,o),f=Math.min(f,r-c.stickySidebar.outerHeight()),m=c.container.height()==c.stickySidebar.outerHeight(),!m&&f==l?h='fixed':!m&&f==k-c.stickySidebar.outerHeight()?h='fixed':g+f-c.sidebar.offset().top-c.paddingTop<=b.additionalMarginTop?h='static':h='absolute'),h=='fixed'?(v=a(document).scrollLeft(),c.stickySidebar.css({position:'fixed',width:d(c.stickySidebar)+'px',transform:'translateY('+f+'px)',left:c.sidebar.offset().left+parseInt(c.sidebar.css('padding-left'))-v+'px',top:'0px'})):h=='absolute'?(j={},c.stickySidebar.css('position')!='absolute'&&(j.position='absolute',j.transform='translateY('+(g+f-c.sidebar.offset().top-c.stickySidebarPaddingTop-c.stickySidebarPaddingBottom)+'px)',j.top='0px'),j.width=d(c.stickySidebar)+'px',j.left='',c.stickySidebar.css(j)):h=='static'&&e(),h!='static'&&c.options.updateSidebarHeight==!0&&c.sidebar.css({'min-height':c.stickySidebar.outerHeight()+c.stickySidebar.offset().top-c.sidebar.offset().top+c.paddingBottom}),c.previousScrollTop=g},c.onScroll(c),a(document).on('scroll.'+c.options.namespace,function(a){return function(){a.onScroll(a)}}(c)),a(window).on('resize.'+c.options.namespace,function(a){return function(){a.stickySidebar.css({position:'static'}),a.onScroll(a)}}(c)),typeof ResizeSensor!='undefined'&&new ResizeSensor(c.stickySidebar[0],function(a){return function(){a.onScroll(a)}}(c));function e(){c.fixedScrollTop=0,c.sidebar.css({'min-height':'1px'}),c.stickySidebar.css({position:'static',width:'',transform:'none'})}function i(c){var b=c.height();return c.children().each(function(){b=Math.max(b,a(this).height())}),b}})}function d(b){var a;try{a=b[0].getBoundingClientRect().width}catch(a){}return typeof a=="undefined"&&(a=b.width()),a}return this}})(jQuery)